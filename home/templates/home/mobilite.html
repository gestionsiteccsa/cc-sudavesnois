{% extends 'base.html' %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'css/mobilite.css' %}">
{% endblock %}
{% block content %}

<!-- Contenu principal -->
<main id="main-content">
    <!-- Bannière -->
    <section class="relative bg-gradient-to-r from-primary to-primary/80 py-16 md:py-24">
        <div class="container mx-auto px-4 md:px-6">
            <div class="max-w-4xl mx-auto text-center text-white">
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-4">Transport à la Demande</h1>
                <p class="text-lg md:text-xl opacity-90 max-w-3xl mx-auto">Service de mobilité pour tous les habitants du Sud-Avesnois</p>
            </div>
        </div>
        <!-- Motif décoratif -->
        <div class="absolute bottom-0 left-0 right-0 h-8 bg-white" style="clip-path: polygon(0 100%, 100% 100%, 0 0);"></div>
        <div class="absolute bottom-0 left-0 right-0 h-8 bg-white opacity-30" style="clip-path: polygon(100% 100%, 100% 0, 0 100%);"></div>
    </section>

    <!-- Section principale -->
    <section class="py-12 bg-white dark:bg-gray-900">
        <div class="container mx-auto px-4 md:px-6">
            <div class="max-w-5xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-start">
                    <!-- Colonne gauche : image recto -->
                    <div>
                        <div class="mb-6 rounded-lg overflow-hidden shadow-lg">
                            <img src="{% static 'img/mobilite/recto.webp' %}" alt="Flyer recto du Transport à la Demande" class="w-full h-auto" loading="lazy">
                        </div>
                    </div>
                    <!-- Colonne droite : titre, description, infos principales -->
                    <div>
                        <div class="bg-white p-6 md:p-8 rounded-lg shadow mb-6">
                            <h2 class="text-2xl font-bold mb-4 text-gray-800 dark:text-gray-200">Le Transport à la Demande</h2>
                            <p class="mb-6 text-gray-700 dark:text-gray-300">Le Transport à la demande est un service financé par la Communauté de Communes Sud-Avesnois. Il assure la prise en charge et la dépose aux arrêts de bus habituels, tout en offrant une desserte directe aux établissements de santé.</p>
                            
                        </div>
                        <div class="bg-gray-50 p-6 rounded-lg shadow flex flex-col items-center mt-8">
                            <div class="flex items-center mb-2">
                                <span class="inline-block bg-primary/10 p-2 rounded-full mr-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-primary dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
                                    </svg>
                                </span>
                                <h3 class="text-xl font-bold text-gray-800 dark:text-gray-200">Application mobile</h3>
                            </div>
                            <p class="mb-4 text-gray-700 dark:text-gray-300 text-center">Les réservations peuvent aussi se faire via l'application mobile :</p>
                            <img src="{% static 'img/MyMobi.webp' %}" alt="Logo MyMobi" class="h-20 w-auto rounded shadow-md bg-white p-1 block mx-auto mb-4">
                            <div class="flex gap-2">
                                <a href="https://apps.apple.com/fr/app/mymobi/id1502077127" target="_blank" class="inline-flex items-center px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors duration-300">
                                    <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                      <path d="M17.564 13.782c-.024-2.568 2.099-3.797 2.19-3.857-1.197-1.747-3.056-1.988-3.713-2.017-1.577-.159-3.08.926-3.882.926-.803 0-2.033-.902-3.345-.878-1.72.025-3.325 1.002-4.216 2.548-1.8 3.123-.46 7.747 1.289 10.282.858 1.24 1.875 2.632 3.212 2.579 1.297-.051 1.788-.834 3.36-.834 1.573 0 2.007.834 3.374.81 1.4-.022 2.278-1.259 3.13-2.501.626-.91.885-1.386 1.384-2.43-3.638-1.387-3.5-4.038-3.478-4.124zm-3.347-7.32c.708-.872 1.19-2.088 1.057-3.293-1.022.041-2.258.68-2.995 1.552-.658.778-1.236 2.021-1.018 3.21 1.192.093 2.348-.606 2.956-1.469z"/>
                                    </svg>
                                    App Store
                                </a>
                                <a href="https://play.google.com/store/apps/details?id=fr.cityway.optycall.passenger.fr&hl=fr" target="_blank" class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-300">
                                    <svg class="w-5 h-5 mr-2" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" 
                                        viewBox="0 0 511.999 511.999" xml:space="preserve">
                                      <g>
                                        <path style="fill:#32BBFF;" d="M382.369,175.623C322.891,142.356,227.427,88.937,79.355,6.028
                                            C69.372-0.565,57.886-1.429,47.962,1.93l254.05,254.05L382.369,175.623z"/>
                                        <path style="fill:#32BBFF;" d="M47.962,1.93c-1.86,0.63-3.67,1.39-5.401,2.308C31.602,10.166,23.549,21.573,23.549,36v439.96
                                            c0,14.427,8.052,25.834,19.012,31.761c1.728,0.917,3.537,1.68,5.395,2.314L302.012,255.98L47.962,1.93z"/>
                                        <path style="fill:#32BBFF;" d="M302.012,255.98L47.956,510.035c9.927,3.384,21.413,2.586,31.399-4.103
                                            c143.598-80.41,237.986-133.196,298.152-166.746c1.675-0.941,3.316-1.861,4.938-2.772L302.012,255.98z"/>
                                      </g>
                                        <path style="fill:#2C9FD9;" d="M23.549,255.98v219.98c0,14.427,8.052,25.834,19.012,31.761c1.728,0.917,3.537,1.68,5.395,2.314
                                            L302.012,255.98H23.549z"/>
                                        <path style="fill:#29CC5E;" d="M79.355,6.028C67.5-1.8,53.52-1.577,42.561,4.239l255.595,255.596l84.212-84.212
                                            C322.891,142.356,227.427,88.937,79.355,6.028z"/>
                                        <path style="fill:#D93F21;" d="M298.158,252.126L42.561,507.721c10.96,5.815,24.939,6.151,36.794-1.789
                                                c143.598-80.41,237.986-133.196,298.152-166.746c1.675-0.941,3.316-1.861,4.938-2.772L298.158,252.126z"/>
                                        <path style="fill:#FFD500;" d="M488.45,255.98c0-12.19-6.151-24.492-18.342-31.314c0,0-22.799-12.721-92.682-51.809l-83.123,83.123
                                            l83.204,83.205c69.116-38.807,92.6-51.892,92.6-51.892C482.299,280.472,488.45,268.17,488.45,255.98z"/>
                                        <path style="fill:#FFAA00;" d="M470.108,287.294c12.191-6.822,18.342-19.124,18.342-31.314H294.303l83.204,83.205
                                            C446.624,300.379,470.108,287.294,470.108,287.294z"/>
                                        </svg>
                                    Google Play
                                </a>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="bg-white p-6 md:p-8 rounded-lg shadow mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 bg-gray-50 rounded-lg p-4 mb-0">
                        <div class="text-center">
                            <div class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-1">Coût</div>
                            <div class="text-primary dark:text-blue-400 text-2xl font-bold">1 €</div>
                            <div class="text-gray-600 dark:text-gray-300 text-sm">par trajet et par personne</div>
                        </div>
                        <div class="text-center">
                            <div class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-1">Horaires</div>
                            <div class="text-gray-700 dark:text-gray-300 text-sm">Du lundi au vendredi :<br>5h/12h – 14h/19h<br>Le samedi :<br>7h/12h - 14h/17h</div>
                        </div>
                        <div class="text-center">
                            <div class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-1">Réservation</div>
                            <div class="text-primary dark:text-blue-400 text-xl font-bold">03 83 73 73 44</div>
                            <div class="text-gray-600 dark:text-gray-300 text-sm">Jusqu'à la veille<br>Lun-Ven 9h-17h</div>
                        </div>
                    </div>
                </div>
                <!-- Bloc sous l'image : possibilités, réservation, infos, appli mobile -->
                <div class="bg-white p-6 md:p-8 rounded-lg shadow mt-8">
                    <div class="mb-6">
                        <h3 class="text-xl font-bold pl-3 mb-2 text-gray-800 dark:text-gray-200">Vos possibilités de déplacement</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start gap-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary mt-0.5">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4"/></svg>
                                </span>
                                <span class="text-gray-700 dark:text-gray-300 text-base leading-relaxed">Vous pouvez vous déplacer d'une commune à une autre au sein de la Communauté de Communes Sud-Avesnois à partir des points d'arrêt TAD (arrêts de bus habituels).</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary mt-0.5">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4"/></svg>
                                </span>
                                <span class="text-gray-700 dark:text-gray-300 text-base leading-relaxed">Vous pouvez vous rendre d'un point d'arrêt d'une des communes du territoire vers des arrêts en dehors de la CCSA (liste susceptible d'évoluer) : Hôpital d'Avesnes, Hôpital de Felleries-Liessies.</span>
                            </li>
                        </ul>
                    </div>
                    <div class="mb-6">
                        <h3 class="text-xl font-bold pl-3 mb-2 text-gray-800 dark:text-gray-200">Comment réserver ?</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start gap-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary mt-0.5">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4"/></svg>
                                </span>
                                <span class="text-gray-700 dark:text-gray-300 text-base leading-relaxed">La réservation d'une course peut se faire jusqu'à la veille du départ souhaité.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary mt-0.5">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4"/></svg>
                                </span>
                                <span class="text-gray-700 dark:text-gray-300 text-base leading-relaxed">Réservez votre déplacement soit par téléphone au <strong>03 83 73 73 44</strong> (du lundi au vendredi, 9h-17h) ou via l'application mobile MyMobi.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary mt-0.5">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4"/></svg>
                                </span>
                                <span class="text-gray-700 dark:text-gray-300 text-base leading-relaxed">Vous recevez un sms de confirmation qui récapitule votre réservation.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary mt-0.5">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4"/></svg>
                                </span>
                                <span class="text-gray-700 dark:text-gray-300 text-base leading-relaxed">Un véhicule léger aux couleurs de Pass Pass TAD vient vous chercher à l'arrêt de votre choix. Merci de vous présenter 5 mn avant l'horaire prévu.</span>
                            </li>
                            <li class="flex items-start gap-3">
                                <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary mt-0.5">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4"/></svg>
                                </span>
                                <span class="text-gray-700 dark:text-gray-300 text-base leading-relaxed">Vous achetez votre titre de transport à bord du véhicule, en espèces.</span>
                            </li>
                        </ul>
                    </div>
                    <div class="mb-4 text-sm text-gray-600 dark:text-gray-400">
                        Pour plus d'infos : <a href="https://www.passpass.fr" target="_blank" class="text-primary dark:text-blue-400 hover:underline">www.passpass.fr</a> Rubrique : Nos Services &gt; Pass Pass TAD
                    </div>
                   
                </div>
                <!-- Carte des arrêts en bas de page -->
                <div class="mt-12 bg-white p-6 rounded-lg shadow text-center">
                    <h2 class="text-2xl font-bold mb-6 text-gray-800 dark:text-gray-200">Carte des arrêts TAD du Sud-Avesnois</h2>
                    <img src="{% static 'img/mobilite/carte-arrets-CCSA.webp' %}" alt="Carte des arrêts TAD du Sud-Avesnois" class="mx-auto max-w-2xl h-auto rounded-lg shadow-md object-contain cursor-zoom-in" loading="lazy" id="carte-arrets-img">
                </div>
                <!-- Modale pour agrandir l'image -->
                <div id="modal-carte-arrets" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 hidden">
                    <div class="relative max-w-4xl w-full p-4">
                        <button id="close-modal-carte-arrets" class="absolute top-2 right-2 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-80 focus:outline-none" aria-label="Fermer">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                        </button>
                        <img src="{% static 'img/mobilite/carte-arrets-CCSA.webp' %}" alt="Carte des arrêts TAD du Sud-Avesnois agrandie" class="w-full h-auto rounded-lg shadow-lg bg-white">
                    </div>
                </div>
                <script>
                // Modale carte des arrêts
                const carteImg = document.getElementById('carte-arrets-img');
                const modal = document.getElementById('modal-carte-arrets');
                const closeModal = document.getElementById('close-modal-carte-arrets');
                carteImg.addEventListener('click', () => {
                    modal.classList.remove('hidden');
                });
                closeModal.addEventListener('click', () => {
                    modal.classList.add('hidden');
                });
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.add('hidden');
                    }
                });
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        modal.classList.add('hidden');
                    }
                });
                </script>
            </div>
        </div>
    </section>
</main>
{% endblock %}
